# Test api for Yandex Backend School

### Описание API

Подробное описание API представлено в файле `openapi.yaml`

Вкратце, АPI позволяет:
- записывать в базу курьеров (POST: `/couriers`)
- записывать в базу заказы (POST: `/orders`)
- назначать заказы курьерам (POST: `/orders/assign`)
- менять информацию про курьеров (PATCH: `/couriers/$courier_id`)
- отмечать заказы выполненными (POST: `/orders/complete`)
- считать заработок и рейтинг курьеров (GET: `/couriers/$courier_id`)

### Требования
- Python версии 3.6 и выше

### Сторонние библиотеки:
- `flask`
- `sqlalchemy`
- `pytest`
- `iso8601`

Также использован пакет `requests` в части тестирования

Более подробный список в requirements.txt 

### Запуск
1. Склонировать репозиторий ```git clone https://github.com/maftukh/test_delivery_api.git```
2. Перейти в склонированную директорию ```cd test_delivery_api```
1. Запустить скрипт `bash install.sh` для настройки окружения (при наличии ошибок доступа: ```chmod 755 install.sh```)
4. Запустить скрипт `bash start.sh` для запуска приложения на `0.0.0.0:8080`(при наличии ошибок доступа: ```chmod 755 start.sh```)

После этого API будет локально крутиться на `0.0.0.0:8080`

Помимо этого, он уже задеплоен на виртуальной машине `178.154.201.135:8080`

### Тесты

Выполнить команду ```pytest``` (в корне проекта)

Тесты присутствуют только для части эндпойнтов